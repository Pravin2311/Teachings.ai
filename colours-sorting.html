<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Color Sorting Game - Teachings.AI</title>
  <link rel="icon" href="assets/favicon.png" type="image/png" />
  <meta name="description" content="Interactive color sorting game for kids - match colorful shapes to their respective zones. A fun activity by Teachings.AI." />
  <meta name="keywords" content="color sorting game, kids learning game, color recognition, preschool activity, teachings.ai" />
  <meta name="author" content="Teachings.AI" />
  <meta property="og:title" content="Color Sorting Game - Teachings.AI" />
  <meta property="og:description" content="Drag and drop colorful shapes into matching color zones. A fun and educational game for preschoolers!" />
  <meta property="og:image" content="https://teachings.ai/assets/cover-color-sorting.png" />
  <meta property="og:url" content="https://teachings.ai/color-sorting.html" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Color Sorting Game - Teachings.AI" />
  <meta name="twitter:description" content="Fun color sorting activity for preschoolers. Drag shapes to matching zones!" />
  <meta name="twitter:image" content="https://teachings.ai/assets/colours-sorting.png" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/grammar.css" />
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalGame",
    "name": "Color Sorting Game",
    "educationalUse": "color recognition, shape sorting",
    "audience": {
      "@type": "EducationalAudience",
      "educationalRole": "student"
    },
    "inLanguage": "en",
    "creator": {
      "@type": "Organization",
      "name": "Teachings.AI",
      "url": "https://teachings.ai"
    },
    "about": {
      "@type": "Thing",
      "name": "Color Sorting Game for Preschool Kids"
    },
    "learningResourceType": "InteractiveGame",
    "url": "https://teachings.ai/colours-sorting.html"
  }
  </script>
  <style>
    body.dragging {
  touch-action: none;
  overflow: hidden;
  }
 </style>
  <style>
    body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f0f8ff;
  margin: 0;
  padding: 0;
  text-align: center;
}

h1 {
  margin-top: 20px;
  color: #333;
}

#game-container {
  padding: 20px;
}

#word-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin: 20px 0;
  gap: 15px;
}

.word {
  padding: 12px 18px;
  background-color: white;
  border: 2px solid #ccc;
  border-radius: 12px;
  font-size: 24px;
  cursor: grab;
  transition: transform 0.2s;
}

.word:active {
  cursor: grabbing;
  transform: scale(1.1);
}

.drop-zones {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  max-width: 400px;
  margin: 40px auto;
  justify-content: center;
}

.drop-zone {
  border: 3px solid #333;
  border-radius: 12px;
  min-height: 100px;
  min-width: 140px;
  background-color: #f9f9f9;
  font-size: 18px;
  font-weight: bold;
  color: #222; /* ðŸ‘ˆ Changed from white to dark */
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.drop-zone:hover {
  background-color: #f1f1f1;
}

button {
  padding: 12px 24px;
  font-size: 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin: 10px;
  transition: background-color 0.3s ease;
}

#submit-btn {
  background-color: #ff9800;
  color: white;
}

#submit-btn:hover {
  background-color: #fb8c00;
}

#reset-btn {
  background-color: #2196f3;
  color: white;
}

#reset-btn:hover {
  background-color: #1976d2;
}

.correct {
  background-color: #c8e6c9 !important;
  border-color: #2e7d32 !important;
}

.incorrect {
  background-color: #ffcdd2 !important;
  border-color: #c62828 !important;
}

#feedback-message {
  font-size: 22px;
  margin-top: 15px;
  font-weight: bold;
  color: #444;
  transition: all 0.3s ease;
}

  </style>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XVYMNTZLQJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-XVYMNTZLQJ');
  </script>
</head>
<body>
  <div class="container" role="main">
    <button class="back-button" onclick="window.location.href='index.html'">Back</button>
    <h1>ðŸŽ¨ Color Sorting Game</h1>
    <p class="tip"><span>Tip:</span> Drag shapes to the matching color zone.</p>
    <div class="word-bank" id="word-container"></div>
    <div class="drop-zones">
      <div class="drop-zone" id="red-zone" data-type="Red">ðŸ”´</div>
      <div class="drop-zone" id="blue-zone" data-type="Blue">ðŸ”µ</div>
      <div class="drop-zone" id="green-zone" data-type="Green">ðŸŸ¢</div>
      <div class="drop-zone" id="orange-zone" data-type="Orange">ðŸŸ </div>
    </div>
    <p id="feedback-message"></p>
    <button id="submit-btn">Submit</button>
  </div>
  <audio id="audio-correct" src="assets/audio/math_feedback/correct.mp3" preload="auto"></audio>
  <audio id="audio-wrong" src="assets/audio/math_feedback/incorrect.mp3" preload="auto"></audio>
  <script>
const fullColorSet = [
  { word: "ðŸŸ¥", type: "Red" },
  { word: "ðŸ”´", type: "Red" },
  { word: "ðŸŸ¦", type: "Blue" },
  { word: "ðŸ”µ", type: "Blue" },
  { word: "ðŸŸ©", type: "Green" },
  { word: "ðŸŸ¢", type: "Green" },
  { word: "ðŸŸ§", type: "Orange" },
  { word: "ðŸŸ ", type: "Orange" },
  { word: "ðŸŸª", type: "Purple" },
  { word: "ðŸŸ£", type: "Purple" },
  { word: "ðŸŸ¨", type: "Yellow" },
  { word: "ðŸ’›", type: "Yellow" },
  { word: "ðŸ¤Ž", type: "Brown" },
  { word: "ðŸŸ«", type: "Brown" },
  { word: "ðŸ’—", type: "Pink" },
  { word: "ðŸ’•", type: "Pink" }
];

let currentWords = [];

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function initializeGame() {
  const wordContainer = document.getElementById("word-container");
  const dropZoneContainer = document.querySelector(".drop-zones");
  const feedback = document.getElementById("feedback-message");
  feedback.innerText = "";

  // Reset audios
  ["audio-correct", "audio-wrong"].forEach(id => {
    const audio = document.getElementById(id);
    audio.pause();
    audio.currentTime = 0;
  });

  // Clear containers
  wordContainer.innerHTML = "";
  dropZoneContainer.innerHTML = "";

  // Pick 4 random color types (no duplicates)
  const allTypes = [...new Set(fullColorSet.map(w => w.type))];
  const selectedTypes = shuffle(allTypes).slice(0, 4);

  // Get 2 emojis per selected type
  currentWords = selectedTypes.flatMap(type =>
    fullColorSet.filter(w => w.type === type)
  );

  // Shuffle emojis for draggable section
  shuffle(currentWords).forEach(({ word }, index) => {
    const span = document.createElement("span");
    span.innerText = word;
    span.className = "word";
    span.setAttribute("draggable", true);
    span.setAttribute("data-word", word);
    span.setAttribute("data-index", index);
    wordContainer.appendChild(span);
  });

  // Create 4 drop zones with matching emoji and label
selectedTypes.forEach(type => {
  const zone = document.createElement("div");
  zone.className = "drop-zone";
  zone.setAttribute("data-type", type);

  // Pick first matching emoji as label
  const emoji = fullColorSet.find(e => e.type === type).word;
  zone.innerText = `${emoji} ${type.toUpperCase()}`;

  dropZoneContainer.appendChild(zone);
});

  setupDragAndDrop();
}

function setupDragAndDrop() {
  document.querySelectorAll(".word").forEach(el => {
    el.addEventListener("dragstart", e => {
      e.dataTransfer.setData("text/plain", e.target.dataset.index);
    });

    el.addEventListener("touchstart", e => el.classList.add("dragging"));
    el.addEventListener("touchmove", e => {
      const touch = e.touches[0];
      const dragging = document.querySelector(".dragging");
      if (dragging) {
        dragging.style.position = "absolute";
        dragging.style.left = `${touch.pageX - 30}px`;
        dragging.style.top = `${touch.pageY - 30}px`;
      }
    });
    el.addEventListener("touchend", e => {
      const dragging = document.querySelector(".dragging");
      dragging.classList.remove("dragging");
      dragging.style.position = "";
      const dropZones = document.querySelectorAll(".drop-zone");
      const touch = e.changedTouches[0];
      dropZones.forEach(zone => {
        const rect = zone.getBoundingClientRect();
        if (
          touch.clientX >= rect.left &&
          touch.clientX <= rect.right &&
          touch.clientY >= rect.top &&
          touch.clientY <= rect.bottom
        ) {
          zone.appendChild(dragging);
        }
      });
    });
  });

  document.querySelectorAll(".drop-zone").forEach(zone => {
    zone.addEventListener("dragover", e => e.preventDefault());
    zone.addEventListener("drop", e => {
      e.preventDefault();
      const index = e.dataTransfer.getData("text/plain");
      const item = document.querySelector(`[data-index='${index}']`);
      if (item && !zone.contains(item)) {
        zone.appendChild(item);
      }
    });
  });
}

document.getElementById("submit-btn").addEventListener("click", () => {
  let score = 0;
  let playedCorrect = false;
  let playedWrong = false;

  document.querySelectorAll(".drop-zone").forEach(zone => {
    const zoneType = zone.getAttribute("data-type");
    zone.querySelectorAll(".word").forEach(wordEl => {
      const wordText = wordEl.innerText;
      const correct = currentWords.find(w => w.word === wordText);
      if (correct && correct.type === zoneType) {
        wordEl.classList.remove("incorrect");
        wordEl.classList.add("correct");
        score++;
        if (!playedCorrect) {
          document.getElementById("audio-correct").play();
          playedCorrect = true;
        }
      } else {
        wordEl.classList.remove("correct");
        wordEl.classList.add("incorrect");
        if (!playedWrong) {
          document.getElementById("audio-wrong").play();
          playedWrong = true;
        }
      }
    });
  });

  const feedback = document.getElementById("feedback-message");
  if (score === currentWords.length) {
    feedback.innerText = `ðŸŽ‰ Perfect! All ${currentWords.length} correct!`;
    feedback.style.color = "green";
  } else {
    feedback.innerText = `âœ… You got ${score} out of ${currentWords.length} correct. Try Again!`;
    feedback.style.color = "orange";
  }

  setTimeout(() => {
    initializeGame(); // Reload game with different 4 colors
  }, 2000);
});

window.onload = initializeGame;
</script>


</body>
</html>
